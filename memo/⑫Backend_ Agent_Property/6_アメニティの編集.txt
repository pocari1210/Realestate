
6_アメニティの編集


/////////////////////////////////////////////////////////////////////////////////////////////////

◆Agent側ビューの編集(遷移元)◆

ディレクトリ
\resources\views\agent\property\add_property.blade.php

・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・

<div class="mb-3">
  <label class="form-label">Property Amenities </label>
  <select name="amenities_id[]" class="js-example-basic-multiple form-select" multiple="multiple" data-width="100%">
    @foreach($amenities as $ameni)

    ↓↓編集↓↓
    <option value="{{ $ameni->amenitis_name }}">{{ $ameni->amenitis_name }}</option>
    ↑↑編集↑↑

    @endforeach
  </select>
</div>

★コード解説★
$ameni->id から$ameni->amenitis_nameに変更


/////////////////////////////////////////////////////////////////////////////////////////////////

◆Agent側ビューの編集(遷移先)◆

ディレクトリ
\resources\views\agent\property\add_property.blade.php

・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・

<div class="mb-3">
  <label class="form-label">Property Amenities </label>
  <select name="amenities_id[]" class="js-example-basic-multiple form-select" multiple="multiple" data-width="100%">
    @foreach($amenities as $ameni)

    ↓↓編集↓↓
    <option value="{{ $ameni->amenitis_name }}" {{ (in_array($ameni->amenitis_name,$property_ami)) ? 'selected' : '' }}>{{ $ameni->amenitis_name }}</option>
    ↑↑編集↑↑

    @endforeach
  </select>
</div>


★コード解説★
$ameni->id から$ameni->amenitis_nameに変更

/////////////////////////////////////////////////////////////////////////////////////////////////

◆Admin側ビューの編集(遷移元)◆

ディレクトリ
\resources\views\agent\property\add_property.blade.php

・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・

<div class="col-sm-4">
<div class="mb-3">
  <label class="form-label">Property Amenities </label>
  <select name="amenities_id[]" class="js-example-basic-multiple form-select" multiple="multiple" data-width="100%">
    @foreach($amenities as $ameni)

    ↓↓編集↓↓
    <option value="{{ $ameni->amenitis_name }}">{{ $ameni->amenitis_name }}</option>
    ↑↑編集↑↑

    @endforeach
  </select>
</div></div><!-- Col -->

★コード解説★
$ameni->id から$ameni->amenitis_nameに変更

/////////////////////////////////////////////////////////////////////////////////////////////////


◆Agent側ビューの編集(遷移先)◆

ディレクトリ
\resources\views\agent\property\add_property.blade.php

・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・

<label class="form-label">Property Amenities </label>
<select name="amenities_id[]" class="js-example-basic-multiple form-select" multiple="multiple" data-width="100%">
  @foreach($amenities as $ameni)

　↓↓編集↓↓
  <option value="{{ $ameni->amenitis_name }}" {{ (in_array($ameni->amenitis_name,$property_ami)) ? 'selected' : '' }}>{{ $ameni->amenitis_name }}</option>
  ↑↑編集↑↑

  @endforeach
</select>

/////////////////////////////////////////////////////////////////////////////////////////

Mysqlを確認し、
propertiesテーブルのamenities_idカラムが数値から
バリュー名に変更されてたらOK